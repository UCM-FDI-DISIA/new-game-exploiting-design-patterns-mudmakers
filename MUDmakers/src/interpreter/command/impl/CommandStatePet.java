package interpreter.command.impl;

import world.Player;
import world.creation.factorymethod.StateEncoder;
import world.state.State4Mobile;

public class CommandStatePet extends AbstractCommand {
	
	Player player;
	String strategy;

	public CommandStatePet() {
	}
	
	public CommandStatePet(Player player, String strategy) {
		this.player = player;
		this.strategy = strategy + "P";
	}

	@Override
	public void execute() {
		State4Mobile state = StateEncoder.buildState(strategy, null, null);
		
		player.getPet().setState(state);
		
		if (state != null) player.sendToPlayer("Pet state changed to: " + state.toString());
		else player.sendToPlayer("State not known");
	}

}
